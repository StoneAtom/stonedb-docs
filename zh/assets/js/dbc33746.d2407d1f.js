"use strict";(self.webpackChunkstoneDB=self.webpackChunkstoneDB||[]).push([[2639],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return b}});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var a=o.createContext({}),i=function(e){var n=o.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=i(e.components);return o.createElement(a.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,a=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),p=i(t),b=r,m=p["".concat(a,".").concat(b)]||p[b]||u[b]||l;return t?o.createElement(m,s(s({ref:n},c),{},{components:t})):o.createElement(m,s({ref:n},c))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,s=new Array(l);s[0]=p;var d={};for(var a in n)hasOwnProperty.call(n,a)&&(d[a]=n[a]);d.originalType=e,d.mdxType="string"==typeof e?e:r,s[1]=d;for(var i=2;i<l;i++)s[i]=t[i];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},55195:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return a},default:function(){return b},frontMatter:function(){return d},metadata:function(){return i},toc:function(){return u}});var o=t(87462),r=t(63366),l=(t(67294),t(3905)),s=["components"],d={id:"compile-using-docker",sidebar_position:5.15},a="Docker \u7f16\u8bd1\u73af\u5883\u642d\u5efa\u548c\u4f7f\u7528 StoneDB",i={unversionedId:"developer-guide/compiling-methods/compile-using-docker",id:"developer-guide/compiling-methods/compile-using-docker",title:"Docker \u7f16\u8bd1\u73af\u5883\u642d\u5efa\u548c\u4f7f\u7528 StoneDB",description:"\u73af\u5883\u7b80\u4ecb",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/04-developer-guide/00-compiling-methods/compile-using-docker.md",sourceDirName:"04-developer-guide/00-compiling-methods",slug:"/developer-guide/compiling-methods/compile-using-docker",permalink:"/zh/docs/developer-guide/compiling-methods/compile-using-docker",draft:!1,editUrl:"https://github.com/stoneatom/stonedb/edit/stonedb-5.7/website/i18n/zh/docusaurus-plugin-content-docs/current/04-developer-guide/00-compiling-methods/compile-using-docker.md",tags:[],version:"current",lastUpdatedBy:"Yuting",lastUpdatedAt:1660802807,formattedLastUpdatedAt:"2022/8/18",sidebarPosition:5.15,frontMatter:{id:"compile-using-docker",sidebar_position:5.15},sidebar:"autoSidebar",previous:{title:"Ubuntu 20.04 \u4e0b\u7f16\u8bd1StoneDB",permalink:"/zh/docs/developer-guide/compiling-methods/compile-using-ubuntu20.04"},next:{title:"\u901a\u8fc7MySQL\u5ba2\u6237\u7aef\u8fde\u63a5StoneDB",permalink:"/zh/docs/developer-guide/connect-to-stonedb/use-mysql-client"}},c={},u=[{value:"\u73af\u5883\u7b80\u4ecb",id:"\u73af\u5883\u7b80\u4ecb",level:2},{value:"Docker\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u4f7f\u7528\u6b65\u9aa4",id:"docker\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u4f7f\u7528\u6b65\u9aa4",level:2},{value:"\u4e0b\u8f7dStoneDB\u6e90\u7801\u3001\u542f\u52a8docker_buildenv \u955c\u50cf",id:"\u4e0b\u8f7dstonedb\u6e90\u7801\u542f\u52a8docker_buildenv-\u955c\u50cf",level:3},{value:"\u901a\u8fc7docker hub \u83b7\u53d6",id:"\u901a\u8fc7docker-hub-\u83b7\u53d6",level:4},{value:"\u83b7\u53d6StoneDB\u6e90\u7801",id:"\u83b7\u53d6stonedb\u6e90\u7801",level:3},{value:"\u8fdb\u5165\u5bb9\u5668\u7f16\u8bd1StoneDB",id:"\u8fdb\u5165\u5bb9\u5668\u7f16\u8bd1stonedb",level:3},{value:"\uff08\u53ef\u9009\uff09\u540e\u7eed\u6b65\u9aa4",id:"\u53ef\u9009\u540e\u7eed\u6b65\u9aa4",level:2},{value:"1\u3001tar\u6253\u5305\u5bfc\u51fa\u5230\u7269\u7406\u673a\u5b89\u88c5\u90e8\u7f72",id:"1tar\u6253\u5305\u5bfc\u51fa\u5230\u7269\u7406\u673a\u5b89\u88c5\u90e8\u7f72",level:3},{value:"2\u3001\u5bb9\u5668\u4e2d\u76f4\u63a5\u90e8\u7f72\u8bd5\u7528StoneDB",id:"2\u5bb9\u5668\u4e2d\u76f4\u63a5\u90e8\u7f72\u8bd5\u7528stonedb",level:3},{value:"StoneDB56\u53c2\u8003",id:"stonedb56\u53c2\u8003",level:3},{value:"StoneDB57\u53c2\u8003",id:"stonedb57\u53c2\u8003",level:3}],p={toc:u};function b(e){var n=e.components,t=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"docker-\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u548c\u4f7f\u7528-stonedb"},"Docker \u7f16\u8bd1\u73af\u5883\u642d\u5efa\u548c\u4f7f\u7528 StoneDB"),(0,l.kt)("h2",{id:"\u73af\u5883\u7b80\u4ecb"},"\u73af\u5883\u7b80\u4ecb"),(0,l.kt)("p",null,"\u7531\u4e8e\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u7b2c\u4e09\u65b9\u5e93\u8f83\u4e3a\u7e41\u7410\uff0c\u4e14Fedora\uff0cUbuntu\u7b49\u73af\u5883\u7f16\u8bd1\u5b58\u5728\u5927\u91cf\u4f9d\u8d56\u7f3a\u5931\uff0c\u9700\u8981\u8865\u5145\u5b89\u88c5\u4f9d\u8d56\uff0c\u642d\u5efa\u9ebb\u70e6\uff0c\u6240\u4ee5\u642d\u5efa\u4e00\u4e2aDocker  Centos \u7f16\u8bd1\u73af\u5883\u5bb9\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7Docker \u5bb9\u5668\u5feb\u901f\u7f16\u8bd1StoneDB\uff0c\u89e3\u51b3\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u7e41\u7410\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7Docker \u5bb9\u5668\u7f16\u8bd1\u540e\u76f4\u63a5\u542f\u52a8StoneDB\u8fdb\u884c\u8c03\u8bd5\u4f7f\u7528\u3002"),(0,l.kt)("h2",{id:"docker\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u4f7f\u7528\u6b65\u9aa4"},"Docker\u7f16\u8bd1\u73af\u5883\u642d\u5efa\u4f7f\u7528\u6b65\u9aa4"),(0,l.kt)("p",null,"\u672c\u642d\u5efa\u6587\u6863\u9700\u8981\u63d0\u524d\u5b89\u88c5\u597dDocker\uff0cDocker \u5b89\u88c5\u8bf7\u53c2\u8003Docker\u5b98\u65b9\u6587\u6863",(0,l.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/install/ubuntu/"},"https://docs.docker.com/engine/install/ubuntu/"),"\u3002"),(0,l.kt)("h3",{id:"\u4e0b\u8f7dstonedb\u6e90\u7801\u542f\u52a8docker_buildenv-\u955c\u50cf"},"\u4e0b\u8f7dStoneDB\u6e90\u7801\u3001\u542f\u52a8docker_buildenv \u955c\u50cf"),(0,l.kt)("p",null,"Docker hub\u955c\u50cf\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/stoneatom/stonedb_buildenv"},"stoneatom/stonedb_buildenv")),(0,l.kt)("h4",{id:"\u901a\u8fc7docker-hub-\u83b7\u53d6"},"\u901a\u8fc7docker hub \u83b7\u53d6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ docker pull stoneatom/stonedb_buildenv\nUsing default tag: latest\nlatest: Pulling from stoneatom/stonedb_buildenv\n2d473b07cdd5: Pull complete\n6d19c47c65b7: Pull complete\ne34f2dc49119: Pull complete\nd9db1ee08930: Pull complete\nda45ca64a9a0: Pull complete\n9496927f6ea6: Pull complete\na75697ca3a7a: Pull complete\n644ae91df978: Pull complete\nbd28f0e05bf1: Pull complete\n6f7060f9ac74: Pull complete\nfe70789b39f3: Pull complete\nbad0be27952c: Pull complete\nDigest: sha256:2a96e743759263267ae5cfbab6abee3c84e31f84d0399d326c9432568123de87\nStatus: Downloaded newer image for stoneatom/stonedb_buildenv:latest\ndocker.io/stoneatom/stonedb_buildenv:latest\n\n#\u67e5\u770bdocker \u955c\u50cf\n$ docker images\nREPOSITORY                   TAG       IMAGE ID       CREATED       SIZE\nstoneatom/stonedb_buildenv   latest    4409a857e962   3 weeks ago   2.29GB\n")),(0,l.kt)("h3",{id:"\u83b7\u53d6stonedb\u6e90\u7801"},"\u83b7\u53d6StoneDB\u6e90\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@testOS src]# cd /home/src/\n[root@testOS src]# git clone https://github.com/stoneatom/stonedb.git\nCloning into 'stonedb'...\nremote: Enumerating objects: 84350, done.\nremote: Counting objects: 100% (84350/84350), done.\nremote: Total 84350 (delta 19707), reused 83550 (delta 19707), pack-reused 0\nReceiving objects: 100% (84350/84350), 402.19 MiB | 13.50 MiB/s, done.\nResolving deltas: 100% (19707/19707), done.\n\n")),(0,l.kt)("h3",{id:"\u8fdb\u5165\u5bb9\u5668\u7f16\u8bd1stonedb"},"\u8fdb\u5165\u5bb9\u5668\u7f16\u8bd1StoneDB"),(0,l.kt)("p",null,"StoneDB56\u548cStoneDB57\u7684\u7f16\u8bd1\u90fd\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u7f16\u8bd1\uff0c\u4e0d\u540c\u7684\u662f\u9700\u8981\u5207\u6362\u5bf9\u5e94\u5206\u652f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# docker run \u53c2\u6570\u8bf4\u660e\n# -v \u76ee\u5f55\u6302\u8f7d\uff0c\u524d\u9762\u662f\u5bbf\u4e3b\u673a\u76ee\u5f55\uff0c\u540e\u9762\u662f\u5bb9\u5668\u5185\u76ee\u5f55,\u5bbf\u4e3b\u673a\u76ee\u5f55\u4e3astonedb\u6e90\u7801\u7236\u76ee\u5f55\u8def\u5f84\uff0c\u672c\u6587\u6863\u4ee5/home/src\u8def\u5f84\u4e3a\u793a\u4f8b\n# -p \u7aef\u53e3\u6620\u5c04\uff0c\u524d\u9762\u662f\u5bbf\u4e3b\u673a\u7aef\u53e3\uff0c\u540e\u9762\u662f\u5bb9\u5668\u7aef\u53e3,\n#    \u8fd9\u91cc\u8bbe\u7f6e\u7aef\u53e3\u6620\u5c04\u662f\u4e3a\u4e86\u540e\u9762\u5bb9\u5668\u5185\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u8bd5\u7528StoneDB\uff0c\u5982\u679c\u4e0d\u9700\u8981\u5728\u5bb9\u5668\u4e2d\u8bd5\u7528\u53ef\u4ee5\u5ffd\u7565\u8be5\u914d\u7f6e\n# docker run \u53ef\u4ee5\u53c2\u8003\u4e0a\u9762docker build \u6210\u529f\u540e\u7684\u53c2\u8003\u547d\u4ee4\n[root@testOS docker]# docker run -d -p 23306:3306 -v /home/src:/home/ stoneatom/stonedb_buildenv\n06f1f385d3b35c86c4ed324731a13785b2a66f8ef2c3423c9b4711c56de1910f\n[root@testOS docker]# docker ps\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS              PORTS                     NAMES\n06f1f385d3b3        stoneatom/stonedb_buildenv   "/usr/sbin/init"    18 seconds ago      Up 17 seconds       0.0.0.0:23306->3306/tcp   confident_tesla\n\n#\u8fdb\u5165Docker \u5bb9\u5668\u5185\u90e8\u8fdb\u884c\u7f16\u8bd1StoneDB\uff08\u4ee5StoneDB57\u4e3a\u4f8b\uff09\n[root@testOS docker]# docker exec -it 06f1f385d3b3 bash\n[root@06f1f385d3b3 home]# cd /home/stonedb/\n[root@06f1f385d3b3 stonedb]# git branch -a\n* stonedb-5.7\n  remotes/origin/HEAD -> origin/stonedb-5.7\n  remotes/origin/stonedb-5.6\n  remotes/origin/stonedb-5.7\n\n[root@06f1f385d3b3 stonedb]# mkdir build\n\n[root@06f1f385d3b3 stonedb]# cd build/\n\n[root@06f1f385d3b3 build]# cmake ../ \\\n-DCMAKE_BUILD_TYPE=Release \\\n-DCMAKE_INSTALL_PREFIX=/stonedb57/install \\\n-DMYSQL_DATADIR=/stonedb57/install/data \\\n-DSYSCONFDIR=/stonedb57/install \\\n-DMYSQL_UNIX_ADDR=/stonedb57/install/tmp/mysql.sock \\\n-DWITH_EMBEDDED_SERVER=OFF \\\n-DWITH_STONEDB_STORAGE_ENGINE=1 \\\n-DWITH_MYISAM_STORAGE_ENGINE=1 \\\n-DWITH_INNOBASE_STORAGE_ENGINE=1 \\\n-DWITH_PARTITION_STORAGE_ENGINE=1 \\\n-DMYSQL_TCP_PORT=3306 \\\n-DENABLED_LOCAL_INFILE=1 \\\n-DEXTRA_CHARSETS=all \\\n-DDEFAULT_CHARSET=utf8 \\\n-DDEFAULT_COLLATION=utf8_general_ci \\\n-DDOWNLOAD_BOOST=0 \\\n-DWITH_BOOST=/usr/local/stonedb-boost/ \\\n-DDOWNLOAD_ROCKSDB=0 \\\n-DWITH_ROCKSDB=/usr/local/stonedb-gcc-rocksdb/ \\\n-DWITH_MARISA=/usr/local/stonedb-marisa/\n\n#\u7b49\u5f85cmake \u7ed3\u675f\uff0c\u7136\u540e\u6267\u884cmake\u548cmake install\n[root@06f1f385d3b3 build]# make -j`nproc`\n[root@06f1f385d3b3 build]# make -j`nproc` install\n')),(0,l.kt)("h2",{id:"\u53ef\u9009\u540e\u7eed\u6b65\u9aa4"},"\uff08\u53ef\u9009\uff09\u540e\u7eed\u6b65\u9aa4"),(0,l.kt)("p",null,"\u7f16\u8bd1make \u6210\u529f\u540e\uff0c\u53ef\u4ee5\u5c06\u7f16\u8bd1\u6587\u4ef6\u6253\u5305\u6210tar\u62f7\u8d1d\u51fa\u5bb9\u5668\u89e3\u5305\u90e8\u7f72\uff0c\u6216\u8005\u76f4\u63a5\u5728\u5bb9\u5668\u4e2d\u90e8\u7f72\u8fd0\u884c\u3002"),(0,l.kt)("h3",{id:"1tar\u6253\u5305\u5bfc\u51fa\u5230\u7269\u7406\u673a\u5b89\u88c5\u90e8\u7f72"},"1\u3001tar\u6253\u5305\u5bfc\u51fa\u5230\u7269\u7406\u673a\u5b89\u88c5\u90e8\u7f72"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"#/home\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u5916\uff0c\u6240\u4ee5\u76f4\u63a5tar\u6253\u5305\u5230\u6302\u8f7d\u76ee\u5f55\u5373\u53ef\u76f4\u63a5\u6253\u5305\u5230\u5bb9\u5668\u5916\uff08\u4ee5stonedb57\u4e3a\u4f8b\uff09\n[root@06f1f385d3b3 build]# tar -zcPvf /home/stonedb57.tar.gz /stonedb57/\n")),(0,l.kt)("h3",{id:"2\u5bb9\u5668\u4e2d\u76f4\u63a5\u90e8\u7f72\u8bd5\u7528stonedb"},"2\u3001\u5bb9\u5668\u4e2d\u76f4\u63a5\u90e8\u7f72\u8bd5\u7528StoneDB"),(0,l.kt)("p",null,"\u53ef\u4ee5\u53c2\u8003\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://stonedb.io/zh/docs/getting-started/quick-deployment"},"StoneDB\u5feb\u901f\u90e8\u7f72\u624b\u518c"),"\uff0c\n\u6216\u8005\u5728\u5bb9\u5668\u4e2d\u53c2\u8003\u4ee5\u4e0b\u65b9\u6cd5\u5feb\u901f\u90e8\u7f72\u8fdb\u884c\u8bd5\u7528\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"#\u8fdb\u5165\u7f16\u8bd1\u5b89\u88c5\u7684StoneDB install\u76ee\u5f55\uff0c\u4ee5stonedb57\u4e3a\u4f8b\n[root@06f1f385d3b3 build]# cd /stonedb57/install/\n\n[root@06f1f385d3b3 install]# groupadd mysql\n\n[root@06f1f385d3b3 install]# useradd -g mysql mysql\n\n[root@06f1f385d3b3 install]# ll\ntotal 180\n-rw-r--r--.  1 root root  17987 Jun  8 03:41 COPYING\n-rw-r--r--.  1 root root 102986 Jun  8 03:41 INSTALL-BINARY\n-rw-r--r--.  1 root root   2615 Jun  8 03:41 README\ndrwxr-xr-x.  2 root root   4096 Jun  8 06:16 bin\ndrwxr-xr-x.  3 root root     18 Jun  8 06:16 data\ndrwxr-xr-x.  2 root root     55 Jun  8 06:16 docs\ndrwxr-xr-x.  3 root root   4096 Jun  8 06:16 include\n-rwxr-xr-x.  1 root root    267 Jun  8 03:41 install.sh\ndrwxr-xr-x.  3 root root    272 Jun  8 06:16 lib\ndrwxr-xr-x.  4 root root     30 Jun  8 06:16 man\ndrwxr-xr-x. 10 root root   4096 Jun  8 06:16 mysql-test\n-rwxr-xr-x.  1 root root  12516 Jun  8 03:41 mysql_server\n-rwxr-xr-x.  1 root root    764 Jun  8 03:41 reinstall.sh\ndrwxr-xr-x.  2 root root     57 Jun  8 06:16 scripts\ndrwxr-xr-x. 28 root root   4096 Jun  8 06:16 share\ndrwxr-xr-x.  4 root root   4096 Jun  8 06:16 sql-bench\n-rw-r--r--.  1 root root   5526 Jun  8 03:41 stonedb.cnf\ndrwxr-xr-x.  2 root root    136 Jun  8 06:16 support-files\n\n[root@06f1f385d3b3 install]# ll {data,binlog,log,tmp,redolog,undolog}\n[root@06f1f385d3b3 install]# mkdir -p ./{data/innodb,binlog,log,tmp,redolog,undolog}\n\n[root@06f1f385d3b3 install]# chown -R mysql:mysql *\n")),(0,l.kt)("p",null,"StoneDB56 \u548cStoneDB57\u5b89\u88c5\u90e8\u7f72\u7684\u533a\u522b\u5728\u4e8e\u521d\u59cb\u5316\u6570\u636e\u548c\u91cd\u7f6e\u5bc6\u7801\u4e0a\uff0c\u5728\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u95ee\u9898\u5efa\u8bae\u5148\u81ea\u884c\u6392\u67e5log/mysqld.log ,\u662f\u5426\u6709\u62a5\u9519\u4fe1\u606f\uff0c\u5982\u65e0\u6cd5\u81ea\u884c\u89e3\u51b3\uff0c\u8bf7\u63d0\u4f9bStoneDB\u7248\u672c\u4fe1\u606f\uff0cDocker image \u7248\u672c\u548c\u62a5\u9519\u65e5\u5fd7\uff0cStoneDB\u7248\u672c\u4fe1\u606f\u5230\u6211\u4eec\u793e\u533a\u6216\u8005github \u63d0\u4ea4issues\u3002"),(0,l.kt)("h3",{id:"stonedb56\u53c2\u8003"},"StoneDB56\u53c2\u8003"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@06f1f385d3b3 install]# ./scripts/mysql_install_db --defaults-file=./my.cnf --user=mysql --basedir=/stonedb56/install --datadir=/stonedb56/install/data\nTo do so, start the server, then issue the following commands:\n# \u65e5\u5fd7\u592a\u591a\u4e86\uff0c\u4e3a\u4e86\u7b80\u6d01\u53ea\u5c55\u793a\u4e3b\u8981\u65e5\u5fd7\u4fe1\u606f\n  /stonedb56/install/bin/mysqladmin -u root password 'new-password'\n  /stonedb56/install/bin/mysqladmin -u root -h 06f1f385d3b3 password 'new-password'\n\nAlternatively you can run:\n\n  /stonedb56/install/bin/mysql_secure_installation\n\n\n# \u542f\u52a8StoneDB\u670d\u52a1\n[root@06f1f385d3b3 install]# ./support-files/mysql.server start\nStarting MySQL..                                           [  OK  ]\n\n# \u4fee\u6539\u5bc6\u7801\n[root@06f1f385d3b3 install]# /stonedb56/install/bin/mysqladmin -u root password \"********\"\nWarning: Using a password on the command line interface can be insecure.\n\n#\u53bb\u9664skip-grant-tables\u53c2\u6570\u5e76\u91cd\u542fStoneDB\u670d\u52a1\n[root@06f1f385d3b3 install]# sed -i '/skip-grant-tables/d' my.cnf\n[root@06f1f385d3b3 install]# ./support-files/mysql.server restart\nShutting down MySQL.....                                   [  OK  ]\nStarting MySQL.                                            [  OK  ]\n\n# \u4f7f\u7528\u65b0\u5bc6\u7801\u767b\u5f55\u5e76\u521b\u5efa\u8fdc\u7a0b\u767b\u5f55\u8d26\u53f7\n[root@06f1f385d3b3 install]# ./bin/mysql -uroot -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 1\nServer version: 5.6.24-StoneDB build-\n\nCopyright (c) 2000, 2022 StoneAtom Group Holding Limited\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> grant all ON *.* to root@'%' identified by '********';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> flush privileges;\nQuery OK, 0 rows affected (0.00 sec)\n\n\n")),(0,l.kt)("h3",{id:"stonedb57\u53c2\u8003"},"StoneDB57\u53c2\u8003"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"\n[root@06f1f385d3b3 install]# ./bin/mysqld --defaults-file=./my.cnf --initialize --user=mysql\n\n# \u542f\u52a8StoneDB\n[root@06f1f385d3b3 install]# ./support-files/mysql.server start\nStarting MySQL.                                            [  OK  ]\n\n# \u67e5\u770b\u521d\u59cb\u5316\u751f\u6210\u7684\u4e34\u65f6\u767b\u5f55\u5bc6\u7801\n[root@06f1f385d3b3 install]# cat log/mysqld.log |grep password\n2022-08-10T08:53:43.682406Z 1 [Note] A temporary password is generated for root@localhost: 30eb,hLq?x#a\n\n# \u767b\u5f55StoneDB \u4fee\u6539root@localhost \u5bc6\u7801\n[root@06f1f385d3b3 install]# ./bin/mysql -uroot -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 2\nServer version: 5.7.36-StoneDB-log\n\nCopyright (c) 2021, 2022 StoneAtom Group Holding Limited\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> alter user root@'localhost' identified by '********';\nQuery OK, 0 rows affected (0.00 sec)\n\n# \u521b\u5efa\u8fdc\u7a0b\u94fe\u63a5\u8d26\u53f7\u5bc6\u7801\nmysql> grant all ON *.* to root@'%' identified by '********';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> flush privileges;\nQuery OK, 0 rows affected (0.00 sec)\n\n")),(0,l.kt)("p",null,"\u5bb9\u5668\u5185\u542f\u52a8StoneDB\u540e\uff0c\u53ef\u4ee5\u5728\u5bb9\u5668\u5185\u767b\u5f55\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7docker run -p\u6302\u8f7d\u6620\u5c04\u7684\u7aef\u53e3\u8fdb\u884c\u8bbf\u95ee\u3002"))}b.isMDXComponent=!0}}]);