"use strict";(self.webpackChunkstoneDB=self.webpackChunkstoneDB||[]).push([[2612],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=d(n),m=o,g=u["".concat(s,".").concat(m)]||u[m]||p[m]||r;return n?a.createElement(g,l(l({ref:t},c),{},{components:n})):a.createElement(g,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var d=2;d<r;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},56249:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return p}});var a=n(87462),o=n(63366),r=(n(67294),n(3905)),l=["components"],i={id:"quick-deployment",sidebar_position:3.1},s="Quick Deployment",d={unversionedId:"getting-started/quick-deployment",id:"getting-started/quick-deployment",title:"Quick Deployment",description:"1. Download the latest package",source:"@site/../Docs/02-getting-started/quick-deployment.md",sourceDirName:"02-getting-started",slug:"/getting-started/quick-deployment",permalink:"/docs/getting-started/quick-deployment",draft:!1,editUrl:"https://github.com/stoneatom/stonedb/edit/stonedb-5.7/Docs/02-getting-started/quick-deployment.md",tags:[],version:"current",lastUpdatedBy:"SPZhang",lastUpdatedAt:1660547370,formattedLastUpdatedAt:"8/15/2022",sidebarPosition:3.1,frontMatter:{id:"quick-deployment",sidebar_position:3.1},sidebar:"autoSidebar",previous:{title:"Server Configuration Requirements",permalink:"/docs/environment-requirements/server-configuration-requirements"},next:{title:"Quick Deployment in a Docker Container",permalink:"/docs/getting-started/quick-deploy-in-docker"}},c={},p=[{value:"<strong>1. Download the latest package</strong>",id:"1-download-the-latest-package",level:2},{value:"<strong>2. Upload and decompress the TAR package</strong>",id:"2-upload-and-decompress-the-tar-package",level:2},{value:"<strong>3. Check dependencies</strong>",id:"3-check-dependencies",level:2},{value:"<strong>4. Start StoneDB</strong>",id:"4-start-stonedb",level:2},{value:"4.1 Create an account.",id:"41-create-an-account",level:3},{value:"4.2 Manually install StoneDB.",id:"42-manually-install-stonedb",level:3},{value:"4.3 Automatically install StoneDB.",id:"43-automatically-install-stonedb",level:3},{value:"<strong>5. Log in to StoneDB</strong>",id:"5-log-in-to-stonedb",level:2},{value:"<strong>6. Stop StoneDB</strong>",id:"6-stop-stonedb",level:2}],u={toc:p};function m(e){var t=e.components,n=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"quick-deployment"},"Quick Deployment"),(0,r.kt)("h2",{id:"1-download-the-latest-package"},(0,r.kt)("strong",{parentName:"h2"},"1. Download the latest package")),(0,r.kt)("p",null,"Click ",(0,r.kt)("a",{parentName:"p",href:"https://static.stoneatom.com/stonedb-ce-5.6-v1.0.0.el7.x86_64.tar.gz"},"here")," to download the latest installation package of StoneDB."),(0,r.kt)("h2",{id:"2-upload-and-decompress-the-tar-package"},(0,r.kt)("strong",{parentName:"h2"},"2. Upload and decompress the TAR package")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cd /\ntar -zxvf stonedb-ce-5.6-v1.0.0.el7.x86_64.tar.gz\n")),(0,r.kt)("p",null,"Upload the installation package to the directory. The name of the folder extracted from the package is /",(0,r.kt)("strong",{parentName:"p"},"stonedb56"),"."),(0,r.kt)("h2",{id:"3-check-dependencies"},(0,r.kt)("strong",{parentName:"h2"},"3. Check dependencies")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd /stonedb56/install/bin\nldd mysqld\nldd mysql\n")),(0,r.kt)("p",null,"If the command output contains keywords ",(0,r.kt)("strong",{parentName:"p"},"not found"),", some dependencies are missing and must be installed. ",(0,r.kt)("br",null),"For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"libsnappy.so.1 => not found")," is returned:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If your OS is Ubuntu, run the ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo apt search libsnappy")," command. The command output will inform you to install ",(0,r.kt)("inlineCode",{parentName:"li"},"libsnappy-dev"),". For more details, see ",(0,r.kt)("a",{parentName:"li",href:"/docs/developer-guide/compiling-methods/compile-using-ubuntu20.04"},"Compile StoneDB on Ubuntu 20.04"),"."),(0,r.kt)("li",{parentName:"ul"},"If your OS is RHEL or CentOS, run the ",(0,r.kt)("inlineCode",{parentName:"li"},"yum search all snappy")," command. The command output will inform you to install ",(0,r.kt)("strong",{parentName:"li"},"snappy-devel")," and ",(0,r.kt)("strong",{parentName:"li"},"snappy"),". For more details, see ",(0,r.kt)("a",{parentName:"li",href:"/docs/developer-guide/compiling-methods/compile-using-centos7"},"Compile StoneDB on CentOS 7")," or ",(0,r.kt)("a",{parentName:"li",href:"/docs/developer-guide/compiling-methods/compile-using-redhat7"},"Compile StoneDB on RHEL 7"),".")),(0,r.kt)("h2",{id:"4-start-stonedb"},(0,r.kt)("strong",{parentName:"h2"},"4. Start StoneDB")),(0,r.kt)("p",null,"Users can start StoneDB in two ways: manual installation and automatic installation. "),(0,r.kt)("h3",{id:"41-create-an-account"},"4.1 Create an account."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"groupadd mysql\nuseradd -g mysql mysql\npasswd mysql\n")),(0,r.kt)("h3",{id:"42-manually-install-stonedb"},"4.2 Manually install StoneDB."),(0,r.kt)("p",null,"You need to manually create directories, and then initialize and start StoneDB. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"### Create directories\nmkdir -p /stonedb56/install/data/innodb\nmkdir -p /stonedb56/install/binlog\nmkdir -p /stonedb56/install/log\nmkdir -p /stonedb56/install/tmp\nchown -R mysql:mysql /stonedb56\n\n### Configure parameters in stonedb.cnf\nvim /stonedb56/install/stonedb.cnf\n[mysqld]\nport      = 3306\nsocket    = /stonedb56/install/tmp/mysql.sock\ndatadir   = /stonedb56/install/data\npid-file  = /stonedb56/install/data/mysqld.pid\nlog-error = /stonedb56/install/log/mysqld.log\n\nchown -R mysql:mysql /stonedb56/install/stonedb.cnf\n\n### Initialize StoneDB\n/stonedb56/install/scripts/mysql_install_db --datadir=/stonedb56/install/data --basedir=/stonedb56/install --user=mysql\n\n### Start StoneDB\n/stonedb56/install/bin/mysqld_safe --defaults-file=/stonedb56/install/stonedb.cnf --user=mysql &\n")),(0,r.kt)("h3",{id:"43-automatically-install-stonedb"},"4.3 Automatically install StoneDB."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd /stonedb56/install\n./reinstall.sh\n")),(0,r.kt)("p",null,"The process of executing the script is to initialize and start the StoneDB.",(0,r.kt)("br",null),"Differences between ",(0,r.kt)("strong",{parentName:"p"},"reinstall.sh")," and ",(0,r.kt)("strong",{parentName:"p"},"install.sh"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"reinstall.sh")," is the script for automatic installation. When the script is being executed, directories are created, and StoneDB is initialized and started. Therefore, do not execute the script unless for the initial startup of StoneDB. Otherwise, all directories will be deleted and StoneDB will be initialized again."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"install.sh")," is the script for manual installation. You can specify the installation directories based on your needs and then execute the script. Same as ",(0,r.kt)("strong",{parentName:"li"},"reinstall.sh"),", when the script is being executed, directories are created, and StoneDB is initialized and started. Therefore, do not execute the script unless for the initial startup. Otherwise, all directories will be deleted and StoneDB will be initialized again.")),(0,r.kt)("h2",{id:"5-log-in-to-stonedb"},(0,r.kt)("strong",{parentName:"h2"},"5. Log in to StoneDB")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/stonedb56/install/bin/mysql -uroot -p -S /stonedb56/install/tmp/mysql.sock \nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 1\nServer version: 5.6.24-StoneDB-log build-\n\nCopyright (c) 2000, 2022 StoneAtom Group Holding Limited\nNo entry for terminal type \"xterm\";\nusing dumb terminal settings.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| cache              |\n| innodb             |\n| mysql              |\n| performance_schema |\n| sys_stonedb        |\n| test               |\n+--------------------+\n7 rows in set (0.00 sec)\n")),(0,r.kt)("h2",{id:"6-stop-stonedb"},(0,r.kt)("strong",{parentName:"h2"},"6. Stop StoneDB")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"/stonedb56/install/bin/mysqladmin -uroot -p -S /stonedb56/install/tmp/mysql.sock shutdown\n")))}m.isMDXComponent=!0}}]);